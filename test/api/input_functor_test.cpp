#include <gtest/gtest.h>

#include <vector>

#include <chopper/input_functor.hpp>

TEST(execute_test, small_example)
{
    // std::string input_filename = data("small.fa");

    // config.hibf_config.threads = 2;
    // config.k = 15;
    // config.disable_sketch_output = true;

    // std::vector<std::string> filenames{input_filename, input_filename};
    // std::vector<hibf::sketch::hyperloglog> sketches{};

    // EXPECT_NO_THROW(chopper::sketch::execute(config, filenames, sketches));

    // ASSERT_EQ(sketches.size(), 2);
    // EXPECT_EQ(std::lround(sketches[0].estimate()), 571);
    // EXPECT_EQ(std::lround(sketches[1].estimate()), 571);
}
